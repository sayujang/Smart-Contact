<meta http-equiv="Content-Security-Policy" content="img-src 'self' https://lh3.googleusercontent.com data:;">
<!-- this fragment is used directly in profile and dashboard -->
<aside th:fragment="sidebar" id="logo-sidebar"
   class="fixed top-0 left-0 z-50 shadow w-64 h-screen transition-transform -translate-x-full sm:translate-x-0"
   aria-label="Sidebar">
   <div
      class="h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-slate-900 border-r border-gray-400 dark:border-gray-400">

      <!-- User Profile Card -->
      <div class="mb-5 p-4 bg-white dark:bg-slate-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700">
         <div class="flex flex-col items-center">
            <!-- Profile Picture -->
            <img th:src="${loginUser.profilePic}"
               class="w-20 h-20 rounded-full object-cover mb-3 border-4 border-gray-200 dark:border-gray-600"
               alt="Profile Picture" onerror="this.src='/images/user.png'" />
            <!-- User Name -->
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white text-center mb-1"
               th:text="${loginUser.name}"></h3>
            <!-- Optional: User Email or Role -->
            <p class="text-sm text-gray-500 dark:text-gray-400 text-center">Welcome back!</p>
         </div>
      </div>

      <!-- Separator Line -->
      <div class="border-t border-gray-300 dark:border-gray-700 mb-5"></div>

      <!-- Navigation Menu -->
      <ul class="space-y-2 font-medium">
         
         <li>
            <a th:href="@{/user/contact/add}"
               class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
               <i class="fa-solid fa-user-plus w-5 h-5"></i>
               <span class="flex-1 ms-3 whitespace-nowrap">Add Contact</span>

            </a>
         </li>
         <li>
            <a th:href="@{/user/contact}"
               class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
               <i class="fa-solid fa-address-book h-5 w-5"></i>
               <span class="flex-1 ms-3 whitespace-nowrap">Contacts</span>
               <span id="total-unread-count"
                  class="hidden inline-flex items-center justify-center w-5 h-5 ms-3 text-xs font-medium text-white bg-red-500 rounded-full">
                  0
               </span>
            </a>
         </li>
         <li>
            <a th:href="@{/user/chat/requests}"
               class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
               <i class="fa-solid fa-comment-slash w-5 h-5 text-gray-500 ..."></i>

               <span class="flex-1 ms-3 whitespace-nowrap">Message Requests</span>

               <span id="total-requests-count"
                  class="hidden inline-flex items-center justify-center w-5 h-5 ms-3 text-xs font-medium text-white bg-blue-500 rounded-full">
                  0
               </span>

            </a>
         </li>
         <li>
            <a th:href="@{/user/settings}"
               class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
               <svg
                  class="shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white"
                  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                  <path
                     d="M5 4a1 1 0 0 0-2 0v7.268a2 2 0 1 0 0 3.464V16a1 1 0 1 0 2 0v-1.268a2 2 0 1 0 0-3.464V4ZM11 4a1 1 0 1 0-2 0v1.268a2 2 0 1 0 0 3.464V16a1 1 0 1 0 2 0V8.732a2 2 0 1 0 0-3.464V4ZM16 3a1 1 0 0 1 1 1v7.268a2 2 0 1 1 0 3.464V16a1 1 0 1 1-2 0v-1.268a2 2 0 1 1 0-3.464V4a1 1 0 0 1 1-1Z" />
               </svg>
               <span class="flex-1 ms-3 whitespace-nowrap">Settings</span>
            </a>
         </li>

      </ul>
   </div>
</aside>